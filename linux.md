---
marp: true
math: mathjax
---
<!-- headingDivider: 2 -->

## Linux-how-to
* In Linux, you should work with *terminal*, which is CUI (character user interface), a different interface from GUI (graphical user interface).
* The Gaussian is usually done in remote environment, because running Gaussian on your desktop/laptop is not a good idea as it demands large CPU power, memory, and hardware in/out.
* Thus it is recommended to run the Gaussian on supercomputers. Here, we mainly use TSUBAME, a Tokyo-Tech supercomputer.
* The usage of TSUBAME is introduced later. First, we will look into the basic linux commands.

## Linux environment setup
* Mac --> no need to do, just open "terminal.app".
* Windows
    1. Windows の機能の有効化、または無効化
    2. 「Linux 用 Windows サブシステム」と「仮想マシンプラットフォーム」をON
    3. スタートメニューの右クリックから「ターミナル（管理者）」を起動
    4. type` wsl --install`
    5. Select "Ubuntu" from start menu.

## ssh
* To login the supercomputer from your environment, you need to use *ssh* so you have to set up it.

## ssh key generation
* To make a ssh connection to remote environment, you need a *ssh-key*.
* There are two keys, a *public key* and  *private key*.
* To generate these keys, execute `ssh-keygen` on your linux terminal.
```bash
ssh-keygen
```
* You can set your passphrase if you like.
* This makes following keys.
    + ~/.ssh/id_rsa (private key)
    + ~/.ssh/id_rsa.pub (public key)
* After generating this, you should upload the public key to the remove environment. Keep a private key to your local environment.

## Public key upload
1. Login a portal site with your internet browser.
2. Click "ssh public key registration" (or similar contents).
3. Copy the public key file (id_rsa_XXX.pub) generated by ssh-keygen.
4. Paste the above contents to some appropriate space.
5. Go back to terminal and login via: `ssh [your_account_name]@[login_node].ac.jp -i [your_private_key-file]`
    * In TSUBAME, `ssh [your_account_name]@login.t3.gsic.titech.ac.jp -i [your_private_key-file]`

## ssh-config
* To make next login easier, it is better to set up the ssh configure file to make login easier.
* An example of TSUBAME is (minimal configuration),
    ```bash
    Host tsubame
    HostName login.t3.gsic.titech.ac.jp
    User your_name
    IdentityFile /Users/your_name/.ssh/id_rsa_tsubame
    ```
* After that, you can login TSUBAME by `ssh tsubame`.

## Basic linux commands
* `cd`: To change the current directory, `cd target_dir`. Note that `target_dir` should be a directory, not a file.
* `ls`: To list the files and directories in the current directory, you should `ls`.
* `cp`: To copy a file, you should `cp from_file to_file`.
* `pwd`: To display the current directory, type `pwd`.
* `less`: To see the contents of file. For files more than one page, place *space* key to see further. Type `q` to quit. If you type `shift + f`, it waits the reloading the file. This mode can be quitted by `ctrl + c`.
* `grep`: To extract a line with some keyword, type `grep "keyword" filename`.
* `mkdir`: To make a new directory, type `mkdir new_dir`.

## Editor
* There are several editors in linux. Two editors are popular, *vi* and *emacs*.
* Here in this course we will use vi.
* To use vi, just type `vi target_file`.
* You can use these editors in the remote environment.
* If you do not want to use vi/emacs, *copy your target file to local PC and then use your favorite editor (like notepad), then send it back to remote environment*.

## vi usage
* asdf

## scp
* After making a ssh-login environment, you can use `scp` (means secure copy) to send/take file from/to remove environment.
    * send: `scp your_file login_node:directory`
    * take: `scp login_node:directory your_local_directory`

## Submitting jobs
* See `TSUBAME.md`.

## WSL
### Install
1. Open `PowerShell`, `Command Prompt`, `Terminal` etc.
2. `wsl --install` -> will install Ubuntu by default. 
3. Open `Ubuntu` in Application.

### Usage
* You can access the Windows system from WSL terminal: for example, you can `cd` to Desktop by `cd /mnt/c/Users/your_user_name/Desktop/`
* It is useful to put symbolic link to your (WSL) home by
```bash
cd
ln -s /mnt/c/Users/your_user_name/Desktop/ desktop
```